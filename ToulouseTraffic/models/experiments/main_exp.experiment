/***
* Name: mainexp
* Author: Loï¿½c
* Description: This wizard creates a new experiment file.
* Tags: Tag1, Tag2, TagN
***/


experiment traffic model: "../MAIN.gaml" type: gui {
	float minimum_cycle_duration <- 0.01;
	output {
		//layout #split parameters: false navigator: false editors: false consoles: false toolbars: false tray: false tabs: false;	
		display map type: opengl{
			graphics "hour of the day"{
				draw disp_hour at: {0,-120} size: 100 color: #black;
			}
			species Building refresh: false;
			species Road refresh: false;
			species TransportLine aspect: base;
			species Hub aspect: base;
			species Bus aspect: arrowAspect;
			species Tram aspect: arrowAspect;
			species Metro aspect: arrowAspect;
		}
		display charts refresh: every (10 #cycles){
			chart "Mean late time" type: series size: {1, 0.5} position: {0, 0} {
        		data "Mean metros late time" value: mean(Metro collect each.mean_late_time) style: line color: #red;
        		data "Mean bus late time" value: mean(Bus collect each.mean_late_time) style: line color: #blue;
      		}
      		chart "Number of working transports" type: series size: {1, 0.5} position: {0, 0.5} {
        		data "Number of working metros" value: nb_metro  style: line color: #red;
        		data "Number of working bus" value: nb_bus  style: line color: #blue;
        	} 
		}
	}
}
